chrome.tabs.onActivated.addListener((function(e){chrome.tabs.query({active:!0,currentWindow:!0},(function(e){e[0].url.includes("web.whatsapp.com")}))})),chrome.runtime.onMessage.addListener(((e,t,n)=>{let c=e.data;if("get-html-file"===c.action)return function(e){return new Promise(((t,n)=>{const c=chrome.runtime.getURL(`html/${e}.html`);fetch(c).then((e=>e.text())).then((e=>{t(e)})).catch((e=>{n(e)}))}))}(c.fileName).then((e=>{n({data:e})})).catch((e=>{n({error:"Failed to fetch HTML file"})})),!0}));